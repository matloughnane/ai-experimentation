module.exports=[948561,e=>{"use strict";var r=e.i(639060),t=(0,r.__commonJS)({"../../../node_modules/.pnpm/@vercel+oidc@3.0.5/node_modules/@vercel/oidc/dist/token-io.js"(e,t){var o=Object.create,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,l=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,u=(e,r,t,o)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let l of c(r))a.call(e,l)||l===t||n(e,l,{get:()=>r[l],enumerable:!(o=i(r,l))||o.enumerable});return e},d=(e,r,t)=>(t=null!=e?o(l(e)):{},u(e&&e.__esModule?t:n(t,"default",{value:e,enumerable:!0}),e)),s={},f={findRootDir:()=>m,getUserDataDir:()=>w};for(var p in f)n(s,p,{get:f[p],enumerable:!0});t.exports=u(n({},"__esModule",{value:!0}),s);var y=d((0,r.__require)("path")),O=d((0,r.__require)("fs")),h=d((0,r.__require)("os")),j=(0,r.require_token_error)();function m(){try{let e=process.cwd();for(;e!==y.default.dirname(e);){let r=y.default.join(e,".vercel");if(O.default.existsSync(r))return e;e=y.default.dirname(e)}}catch(e){throw new j.VercelOidcTokenError("Token refresh only supported in node server environments")}throw new j.VercelOidcTokenError("Unable to find root directory")}function w(){if(process.env.XDG_DATA_HOME)return process.env.XDG_DATA_HOME;switch(h.default.platform()){case"darwin":return y.default.join(h.default.homedir(),"Library/Application Support");case"linux":return y.default.join(h.default.homedir(),".local/share");case"win32":if(process.env.LOCALAPPDATA)return process.env.LOCALAPPDATA;return null;default:return null}}}}),o=(0,r.__commonJS)({"../../../node_modules/.pnpm/@vercel+oidc@3.0.5/node_modules/@vercel/oidc/dist/token-util.js"(e,o){var n=Object.create,i=Object.defineProperty,c=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,a=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,d=(e,r,t,o)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let n of l(r))u.call(e,n)||n===t||i(e,n,{get:()=>r[n],enumerable:!(o=c(r,n))||o.enumerable});return e},s=(e,r,t)=>(t=null!=e?n(a(e)):{},d(e&&e.__esModule?t:i(t,"default",{value:e,enumerable:!0}),e)),f={},p={assertVercelOidcTokenResponse:()=>v,findProjectInfo:()=>g,getTokenPayload:()=>D,getVercelCliToken:()=>_,getVercelDataDir:()=>w,getVercelOidcToken:()=>k,isExpired:()=>E,loadToken:()=>T,saveToken:()=>b};for(var y in p)i(f,y,{get:p[y],enumerable:!0});o.exports=d(i({},"__esModule",{value:!0}),f);var O=s((0,r.__require)("path")),h=s((0,r.__require)("fs")),j=(0,r.require_token_error)(),m=t();function w(){let e=(0,m.getUserDataDir)();return e?O.join(e,"com.vercel.cli"):null}function _(){let e=w();if(!e)return null;let r=O.join(e,"auth.json");if(!h.existsSync(r))return null;let t=h.readFileSync(r,"utf8");return t?JSON.parse(t).token:null}async function k(e,r,t){try{let o=`https://api.vercel.com/v1/projects/${r}/token?source=vercel-oidc-refresh${t?`&teamId=${t}`:""}`,n=await fetch(o,{method:"POST",headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new j.VercelOidcTokenError(`Failed to refresh OIDC token: ${n.statusText}`);let i=await n.json();return v(i),i}catch(e){throw new j.VercelOidcTokenError("Failed to refresh OIDC token",e)}}function v(e){if(!e||"object"!=typeof e)throw TypeError("Expected an object");if(!("token"in e)||"string"!=typeof e.token)throw TypeError("Expected a string-valued token property")}function g(){let e=(0,m.findRootDir)();if(!e)throw new j.VercelOidcTokenError("Unable to find root directory");try{let r=O.join(e,".vercel","project.json");if(!h.existsSync(r))throw new j.VercelOidcTokenError("project.json not found");let t=JSON.parse(h.readFileSync(r,"utf8"));if("string"!=typeof t.projectId&&"string"!=typeof t.orgId)throw TypeError("Expected a string-valued projectId property");return{projectId:t.projectId,teamId:t.orgId}}catch(e){throw new j.VercelOidcTokenError("Unable to find project ID",e)}}function b(e,r){try{let t=(0,m.getUserDataDir)();if(!t)throw new j.VercelOidcTokenError("Unable to find user data directory");let o=O.join(t,"com.vercel.token",`${r}.json`),n=JSON.stringify(e);h.mkdirSync(O.dirname(o),{mode:504,recursive:!0}),h.writeFileSync(o,n),h.chmodSync(o,432);return}catch(e){throw new j.VercelOidcTokenError("Failed to save token",e)}}function T(e){try{let r=(0,m.getUserDataDir)();if(!r)return null;let t=O.join(r,"com.vercel.token",`${e}.json`);if(!h.existsSync(t))return null;let o=JSON.parse(h.readFileSync(t,"utf8"));return v(o),o}catch(e){throw new j.VercelOidcTokenError("Failed to load token",e)}}function D(e){let r=e.split(".");if(3!==r.length)throw new j.VercelOidcTokenError("Invalid token");let t=r[1].replace(/-/g,"+").replace(/_/g,"/"),o=t.padEnd(t.length+(4-t.length%4)%4,"=");return JSON.parse(Buffer.from(o,"base64").toString("utf8"))}function E(e){return 1e3*e.exp<Date.now()}}});e.s(["require_token_util",()=>o])},368317,e=>{"use strict";var r=(0,e.i(948561).require_token_util)();e.s(["default",()=>r])}];

//# sourceMappingURL=87826_%40mastra_core_dist_d70a5863._.js.map